(this.webpackJsonprobin_hood=this.webpackJsonprobin_hood||[]).push([[0],{13:function(e,c,a){},14:function(e,c,a){},18:function(e,c,a){"use strict";a.r(c);var r=a(2),n=a.n(r),i=a(8),t=a.n(i),s=(a(13),a(1)),o=a(3),d=(a(14),a.p+"static/media/robin.83aa1f3e.jpg"),l=a.p+"static/media/compagnon.e626d0c4.jpg",u=a.p+"static/media/sheriff.38b3bcd1.jpg",h=a.p+"static/media/adjoint.d48cc3c6.jpg",f=a.p+"static/media/embobineur.dc9601ba.jpg",m=a.p+"static/media/moine.70c350f7.jpg",j=a.p+"static/media/paysanne.ff6d01e5.jpg",p=[{id:1,name:"Robin",color:"green",image:d,power:"D\xe9masquez le Sh\xe9riff et ses adjoints"},{id:2,name:"Compagnon",color:"green",image:l,power:"Rejouez"},{id:3,name:"Compagnon",color:"green",image:l,power:"Rejouez"},{id:4,name:"Sheriff",color:"red",image:u,power:"D\xe9masquez Robin et ses compagnons"},{id:5,name:"Adjoint",color:"red",image:h,power:"M\xe9langez deux cartes"},{id:6,name:"Adjoint",color:"red",image:h,power:"M\xe9langez deux cartes"},{id:7,name:"Embobineur",color:"pink",image:f,power:"Vous devez mentir"},{id:8,name:"Moine",color:"blue",image:m,power:"Retournez une carte"},{id:9,name:"Paysanne",color:"yellow",image:j,power:"Il ne se passe rien"},{id:10,name:"Paysanne",color:"yellow",image:j,power:"Il ne se passe rien"},{id:11,name:"Sorci\xe8re",color:"purple",image:a.p+"static/media/sorciere.fd97f35c.jpg",power:"Prenez une deuxi\xe8me carte, consultez-la, puis replacez les deux cartes face cach\xe9e"},{id:12,name:"Tra\xeetre",color:"grey",image:a.p+"static/media/traitre.e847e3de.jpg",power:"Vous perdez une vie"}],b=a(6),O=a.p+"static/media/robin-wood-back.3c04c64d.jpg";function C(e,c){for(var a=!1,r=0;r<c.length;r++){c[r]===e&&(a=!0)}return a}var g=a(0);var k=function(e){var c=e.handleClickedCard,a=e.characters,r=e.activeCard,n=e.round;return Object(g.jsx)("div",{className:"board",children:a.map((function(e){return Object(g.jsx)("div",{className:"card-outer "+(C(e.id,r)?"flipped ":"")+(C(e.id,n.clickedCard)?"clicked ":""),onClick:function(){return c(e)},children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("div",{className:"front",children:Object(g.jsx)("img",{className:"character-img",src:e.image})}),Object(g.jsx)("div",{className:"back",children:Object(g.jsx)("img",{className:"character-img",src:O})})]})})}))})};var v=function(e){var c=e.activePlayer,a=e.activeCard,r=e.players,n=e.onChange,i=e.round,t=e.onReplayClick;return Object(g.jsxs)("div",{className:"header",children:[Object(g.jsxs)("div",{className:"player one",children:[Object(g.jsx)("div",{className:"player-icon"}),Object(g.jsxs)("div",{className:"player-info",children:[Object(g.jsx)("div",{className:"player-name",children:Object(g.jsx)("input",{value:r[0].name,onChange:function(e){return n(e.target.value,0)}})}),Object(g.jsx)("div",{className:"player-lifes",children:Object(g.jsx)("p",{children:"\u2764\ufe0f".repeat(r[0].life)})})]})]}),Object(g.jsxs)("div",{className:"rules",children:[Object(g.jsx)("button",{onClick:t,children:"Rejouer"}),Object(g.jsxs)("h1",{children:["C'est le tour de ",c?r[0].name:r[1].name]}),C(i.clickedCard,a)?Object(g.jsxs)("h1",{children:["Attention ! ",c?r[1].name:r[0].name," ne doit pas regarder la carte"]}):""]}),Object(g.jsxs)("div",{className:"player two",children:[Object(g.jsxs)("div",{className:"player-info",children:[Object(g.jsx)("div",{className:"player-name",children:Object(g.jsx)("input",{value:r[1].name,onChange:function(e){return n(e.target.value,1)}})}),Object(g.jsx)("div",{className:"player-lifes",children:Object(g.jsx)("p",{children:"\u2764\ufe0f".repeat(r[1].life)})})]}),Object(g.jsx)("div",{className:"player-icon"})]})]})};var y=function(e){var c=e.onChoiceClick,a=e.onAnswerClick,r=e.activePlayer,n=e.round;return Object(g.jsx)("div",{className:"choice-container",children:Object(g.jsx)("div",{className:"choice-buttons",children:r?Object(g.jsx)(g.Fragment,{children:[{label:"Je suis Robin",character:"Robin",key:1},{label:"Je suis un compagnon",character:"Compagnon",key:2},{label:"Je suis le Sh\xe9riff",character:"Sheriff",key:3},{label:"Je suis un adjoint",character:"Adjoint",key:4},{label:"Je suis le moine",character:"Moine",key:6},{label:"Je suis une paysanne",character:"Paysanne",key:7},{label:"Je suis la sorci\xe8re",character:"Sorciere",key:8},{label:"Je passe",character:"Passe",key:9}].map((function(e){return Object(g.jsx)("button",{className:"choice "+(n.chosenCharacter===e.character?"clicked":""),onClick:function(){return c(e)},children:e.label})}))}):Object(g.jsx)(g.Fragment,{children:["Je te crois","Je t'accuse"].map((function(e){return Object(g.jsx)("button",{className:"choice "+(n.chosenAnswer===e?"clicked":""),onClick:function(){return a(e)},children:e})}))})})})};var N=function(){var e=Object(r.useState)([]),c=Object(o.a)(e,2),a=c[0],n=c[1],i=Object(r.useState)(Object(b.shuffle)(p)),t=Object(o.a)(i,2),d=t[0],l=t[1],u=Object(r.useState)(1===Math.floor(2*Math.random())),h=Object(o.a)(u,2),f=h[0],m=h[1],j=Object(r.useState)([]),O=Object(o.a)(j,2),N=O[0],x=O[1],S=Object(r.useState)({player:f,clickedCard:[],clickedCharacter:"",chosenCharacter:"",chosenAnswer:""}),J=Object(o.a)(S,2),w=J[0],A=J[1],R=Object(r.useState)([{name:"Anne",life:2},{name:"Bastien",life:2}]),P=Object(o.a)(R,2),z=P[0],M=P[1];Object(r.useEffect)((function(){q()}),[z]);var F=function(){return"Sorciere"===w.chosenCharacter},q=function(){return 0===z[0].life?"".concat(z[1].name," a gagn\xe9"):0===z[1].life?"".concat(z[0].name," a gagn\xe9"):void 0},I=function(e){if("Passe"===e.character&&""===w.chosenCharacter&&12!==w.clickedCard[0])B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a pass\xe9 son tour"])}));else if("Passe"!==e.character||"Robin"!==w.chosenCharacter&&"Sheriff"!==w.chosenCharacter||""===w.chosenAnswer){if(""===w.chosenCharacter&&0!==w.clickedCard.length&&!C(w.clickedCard[0],a)){var c=JSON.parse(JSON.stringify(w));c.chosenCharacter=e.character,A(c),x((function(c){return[].concat(Object(s.a)(c),[z[f?0:1].name+" est "+e.character])}))}}else B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a a pass\xe9 son tour"])}))},B=function(e){m(e?!f:f),A({player:f,clickedCard:[],clickedCharacter:"",chosenCharacter:"",chosenAnswer:""})},D=function(e){if(""===w.chosenAnswer&&w.clickedCard!==[]&&""!==w.chosenCharacter){var c=JSON.parse(JSON.stringify(w));c.chosenAnswer=e,"Adjoint"!==w.chosenCharacter&&"Robin"!==w.chosenCharacter&&"Sheriff"!==w.chosenCharacter||(c.clickedCard=[]),A(c),x((function(c){return[].concat(Object(s.a)(c),[z[f?1:0].name+" r\xe9pond : "+e])}))}if(w.chosenCharacter!==w.clickedCharacter&&"Je t'accuse"===e){var a=JSON.parse(JSON.stringify(z));a[f?0:1].life=z[f?0:1].life-1,M(a),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" perd une vie"])}))}else if(w.chosenCharacter===w.clickedCharacter&&"Je t'accuse"===e){var r=JSON.parse(JSON.stringify(z));r[f?1:0].life=z[f?1:0].life-1,M(r),E(w.chosenCharacter),x((function(e){return[].concat(Object(s.a)(e),[z[f?1:0].name+" perd une vie"])}))}else"Je te crois"===e&&E(w.chosenCharacter)},E=function(e){switch(e){case"Paysanne":B(!0);break;case"Compagnon":B(!1);break;default:return}};return Object(g.jsxs)("div",{className:"app",children:[Object(g.jsx)(v,{activePlayer:f,activeCard:a,players:z,onChange:function(e,c){var a=JSON.parse(JSON.stringify(z));a[c].name=e,M(a)},round:w,onReplayClick:function(){n([]),l(Object(b.shuffle)(p)),m(1===Math.floor(2*Math.random())),x([]),A({player:f,clickedCard:[],clickedCharacter:"",chosenCharacter:"",chosenAnswer:""}),M([{name:z[0].name,life:2},{name:z[1].name,life:2}])}}),Object(g.jsx)(y,{onChoiceClick:I,onAnswerClick:D,activePlayer:f,round:w}),Object(g.jsx)(k,{handleClickedCard:function(e){if(0!==w.clickedCard.length||C(e.id,a)||12!==e.id||""!==w.chosenCharacter)if("Adjoint"!==w.chosenCharacter||C(e.id,a)){if("Robin"===w.chosenCharacter||"Sheriff"===w.chosenCharacter){if(0===w.clickedCard.length||1===w.clickedCard.length){var c=JSON.parse(JSON.stringify(w));c.clickedCard.push(e.id),c.clickedCharacter=e.name,A(c)}else if(2===w.clickedCard.length){var r=d[d.map((function(e){return e.id})).indexOf(w.clickedCard[0])].color,i=d[d.map((function(e){return e.id})).indexOf(w.clickedCard[1])].color,t=d[d.map((function(e){return e.id})).indexOf(e.id)].color,o=JSON.parse(JSON.stringify(w));if(o.clickedCard.push(e.id),o.clickedCharacter=e.name,A(o),r===i&&i===t)a.push(w.clickedCard[0],w.clickedCard[1],e.id),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a r\xe9ussi \xe0 d\xe9masquer "+("Robin"===w.chosenCharacter?"le Sh\xe9riff et ses adjoints":"Robin et ses compagnons")])}));else{var u=JSON.parse(JSON.stringify(z));u[f?0:1].life=z[f?0:1].life-1,M(u),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" n'a pas r\xe9ussi \xe0 d\xe9masquer "+("Robin"===w.chosenCharacter?"le Sh\xe9riff et ses adjoints":"Robin et ses compagnons")+" et a perdu une vie"])}))}}}else if(0===w.clickedCard.length&&!C(e.id,a)){n((function(c){return[].concat(Object(s.a)(c),[e.id])}));var h=JSON.parse(JSON.stringify(w));h.clickedCard=[e.id],h.clickedCharacter=e.name,A(h),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a retourn\xe9 une carte"])}))}}else if(0===w.clickedCard.length){var m=JSON.parse(JSON.stringify(w));m.clickedCard=[e.id],m.clickedCharacter=e.name,A(m)}else{var j=JSON.parse(JSON.stringify(d)),p=j.map((function(e){return e.id})).indexOf(w.clickedCard[0]),b=j.map((function(e){return e.id})).indexOf(e.id),O=j[p],g=j[b];j[p]=g,j[b]=O,l(j);var k=JSON.parse(JSON.stringify(w));k.clickedCard=[k.clickedCard[0],e.id],A(k),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a \xe9chang\xe9 deux cartes"])}))}else{n((function(c){return[].concat(Object(s.a)(c),[e.id])}));var v=JSON.parse(JSON.stringify(w));v.clickedCard=[e.id],v.clickedCharacter=e.name,A(v);var y=JSON.parse(JSON.stringify(z));y[f?0:1].life=z[f?0:1].life-1,M(y),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a perdu une vie \xe0 cause du traitre"])}))}if(C(e.id,a)&&F()&&C(e.id,w.clickedCard))n(a.filter((function(c){return c!==e.id}))),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a remis une carte face cach\xe9e"])}));else if(C(e.id,a)&&12===e.id)n(a.filter((function(c){return c!==e.id}))),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a remis une carte face cach\xe9e"])}));else if(C(e.id,a)&&C(e.id,w.clickedCard))n(a.filter((function(c){return c!==e.id}))),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a remis une carte face cach\xe9e"])}));else if(C(e.id,a)||!F()||C(w.clickedCard[0],a))"Moine"===w.chosenCharacter&&(n((function(c){return[].concat(Object(s.a)(c),[e.id])})),B(!0),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a retourn\xe9 une carte gr\xe2ce au moine"])})));else{n((function(c){return[].concat(Object(s.a)(c),[e.id])}));var N=JSON.parse(JSON.stringify(w));N.clickedCard=[e.id],N.clickedCharacter=e.name,A(N),x((function(e){return[].concat(Object(s.a)(e),[z[f?0:1].name+" a retourn\xe9 une carte gr\xe2ce \xe0 la sorci\xe8re"])}))}},characters:d,activeCard:a,round:w}),Object(g.jsx)(y,{onChoiceClick:I,onAnswerClick:D,activePlayer:!f,round:w}),Object(g.jsxs)("p",{className:"history",children:["Historique :",N.map((function(e){return Object(g.jsx)("p",{children:e})}))]})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(c){var a=c.getCLS,r=c.getFID,n=c.getFCP,i=c.getLCP,t=c.getTTFB;a(e),r(e),n(e),i(e),t(e)}))};t.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(N,{})}),document.getElementById("root")),x()}},[[18,1,2]]]);
//# sourceMappingURL=main.cf0bf081.chunk.js.map